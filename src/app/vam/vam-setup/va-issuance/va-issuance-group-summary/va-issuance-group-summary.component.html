<div *ngIf="corporateGroup" class="container">
  <div class="p-grid p-pb-2">
    <!--*ngFor="let cg of corporateGroup"-->
    <div [ngClass]="viewport === 'web' ? 'p-px-0' : 'p-p-0 p-mt-3'" class="p-md-3 p-sm-12 p-col-12">
      <div
        (click)="onCorporateGroup(corporateGroup)"
        class="aps-card border-2 aps-filled-card-white p-p-3 p-ml-1 pointer"
      >
        <div class="">
          <img [src]="corporateGroup.groupIcon" alt="Logo" class="img-35-x-27" />
        </div>
        <div class="p-pb-3">
          <div class="text-size-16 text-color-dark-shade-1 text-semi-bold">
            {{ corporateGroup.groupName }}
          </div>
        </div>

        <div class="p-grid p-pt-3 text-color-dark-shade-1 border-top">
          <div class="p-col-6 p-p-0">
            <div class="text-size-14 text-bold">{{ corporateGroup.groupCode }}</div>
            <div class="text-size-12">{{ 'Group Code' | apsTranslate }}</div>
          </div>
          <div class="p-col-6 p-p-0">
            <div class="text-size-14 text-bold">{{ corporateGroup.liabilityNo }}</div>
            <div class="text-size-12">{{ 'Liability ID' | apsTranslate }}</div>
          </div>
        </div>
      </div>
    </div>
    <div class="p-md-8 p-sm-12 p-col-12 p-p-0">
      <div class="p-grid p-pt-1">
        <div
          *ngFor="let corporate of corporateGroup.corporateList"
          [ngClass]="viewport === 'web' ? 'p-px-0' : 'p-p-0'"
          class="corporates p-md-4 p-sm-12 p-col-12"
        >
          <div *ngIf="viewport === 'web'" class="p-grid p-pt-4">
            <div class="p-col-6 p-px-0 border-top border-right"></div>
            <div class="p-col-6 p-px-0 border-top"></div>
          </div>

          <div class="p-grid">
            <ng-container *ngIf="viewport !== 'web'">
              <div class="p-col-1 p-px-0 border-right"></div>
              <div class="p-col-1 p-px-0 p-mt-6 border-top"></div>
            </ng-container>

            <div [ngClass]="viewport === 'web' ? 'p-col-12 ' : 'p-col-10'" class="p-p-0">
              <div
                (click)="moreOptions.toggle($event); $event.stopPropagation()"
                [ngClass]="viewport === 'web' ? 'p-ml-3 ' : 'p-mt-3'"
                class="aps-card border-1 p-p-3"
              >
                <div class="label-with-icon-container p-pb-2 border-bottom">
                  <div class="icon">
                    <img [src]="corporate.corporateIcon" alt="" class="img-35-x-27" />
                  </div>
                  <div class="label p-pt-1">
                    <div class="text-size-14 text-color-dark-shade-1">
                      {{ corporate.corporateName }}
                    </div>
                  </div>
                  <!--                  <div (click)="moreOptions.toggle($event);;$event.stopPropagation()"-->
                  <div
                    (click)="onCorporate(corporate); $event.stopPropagation()"
                    class="text-size-14 float-right pointer"
                  >
                    <!--(click)="moreOptions.toggle($event)"-->
                    <i class="far fa-eye"></i>
                  </div>
                </div>

                <div class="p-grid text-color-dark-shade-1 p-pt-2">
                  <div class="p-col-4 p-p-0">
                    <span
                      class="background-color-primary-light-shade-2 inline-block border-radius-4 p-px-2 p-py-1 text-size-10 p-mt-1"
                    >
                      {{ corporate.id }}
                    </span>
                  </div>
                  <div class="p-col-4 p-p-0">
                    <div class="text-size-10 text-semi-bold p-mb-1 p-pl-3">
                      {{ corporate.noOfAccounts }}
                    </div>
                    <div class="text-size-10">{{ 'Accounts' | apsTranslate }}</div>
                  </div>
                  <div class="p-col-4 p-p-0">
                    <div class="text-size-10 text-semi-bold p-mb-1 p-pl-3">
                      {{ corporate.noOfSunEntityInCorporate }}
                    </div>
                    <div class="text-size-10">{{ 'Sub Entity' | apsTranslate }}</div>
                  </div>
                </div>
                <p-overlayPanel id="moreOptions" #moreOptions [dismissable]="true">
                  <div class="p-grid aps-w-290">
                    <!--(click)="$event.stopPropagation()" *ngIf="corporate.openDetails"-->
                    <div class="p-col-4 text-semi-bold text-size-10 border-bottom">
                      {{ 'Account No' | apsTranslate }}
                    </div>
                    <div class="p-col-3 text-semi-bold text-size-10 border-bottom text-center">
                      {{ 'Sub Entity' | apsTranslate }}
                    </div>
                    <div class="p-col-5 text-semi-bold text-size-10 border-bottom text-center">
                      {{ 'Virtual Accounts' | apsTranslate }}
                    </div>
                    <ng-container *ngFor="let data of corporate.summaryData">
                      <div class="p-col-4 text-color-dark-shade-1 text-size-10">
                        {{ data.accountNo }}
                      </div>
                      <div class="p-col-3 text-color-dark-shade-1 text-size-10 text-center">
                        {{ data.noOfSunEntityInAccount }}
                      </div>
                      <div class="p-col-5 text-color-dark-shade-1 text-size-10 text-center">
                        {{ data.noOfVA }}
                      </div>
                    </ng-container>
                  </div>
                </p-overlayPanel>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
